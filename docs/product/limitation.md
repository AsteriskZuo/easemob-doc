# 限制条件

<Toc />

本文简要介绍环信即时通讯 IM 的使用限制条件，包括调用频率、字符串大小和编码格式等。

## 用户注册

- 用户 ID：长度不能超过 64 字节。不可设置为空。支持以下字符集：
    - 26 个小写英文字母 a-z；
    - 26 个大写英文字母 A-Z；
    - 10 个数字 0-9；
    - “_”, “-”, “.”。

:::notice
- 该参数不区分大小写，因此 Aa 和 aa 为相同用户名；
- 请确保同一个 app 下，用户 ID 唯一；
- 用户 ID 是会公开的信息，请勿使用 UUID、邮箱地址、手机号等敏感信息。
:::
- 批量注册每次最多 60 个用户 ID。

## 好友数限制

根据不同的套餐版本，用户好友数有如下限制：
| 套餐版本      | 好友人数上限 |
|:--------------|:-----------|
| 免费版       | 100        |
| 专业版    | 3,000      |
| 旗舰版       | 无上限      |
| 尊享版 | 无上限    |

## 消息存储时长限制

根据不同的套餐版本，消息存储时长有如下限制：
| 套餐版本      | 消息存储时长 |
|:--------------|:-------------|
| 免费版       | 3 天         |
| 专业版    | 7 天     |
| 旗舰版        | 90 天     |
| 尊享版 | 180 天    |

## 群组限制

根据不同的套餐版本，群组有如下限制：
| 套餐版本      | 群组总数 | 群成员数 | 用户可加入群组数 |
|:--------------|:---------|----------|------------------|
| 免费版       | 100      | 100      | 100              |
| 专业版    | 100,000   | 300      | 600            |
| 旗舰版        | 无上限   | 3,000    | 无上限            |
| 尊享版 | 无上限  | 8,000    | 无上限           |

群组名称，用户自定义，字符串类型，最大长度为 128 字符。
群组描述，用户自定义，字符串类型，最大长度为 512 字符。
群组扩展信息，例如可以给群组添加业务相关的标记，最大长度为 1,024 字符。

## 聊天室限制

根据不同的套餐版本，聊天室有如下限制：
| 套餐版本      | 聊天室总数 | 
|:--------------|:-----------|
| 免费版       | 10       | 
| 专业版    | 100     | 
| 旗舰版        | 无上限     | 
| 尊享版 | 无上限    | 无上限 | 

聊天室名称，用户自定义，字符串类型，最大长度为 128 字符。
聊天室描述，用户自定义，字符串类型，最大长度为 512 字符。

### 聊天室自定义属性（key-value）

每个聊天室最多可有 100 个自定义属性，每个应用的聊天室自定义属性总大小不超过 10 GB。

聊天室自定义属性为键值对（key-value）结构，单个 key 不能超过 128 个字符，支持以下字符集：
  • 26 个小写英文字母 a-z；
  • 26 个大写英文字母 A-Z；
  • 10 个数字 0-9；
  • “_”, “-”, “.”。

每个聊天室属性 value 不能超过 4096 个字符。

## 调用频率限制

[Rest API 调用频率限制](limitationapi.html)。

## 消息大小限制

对于不同的消息类型，消息长度限制如下：

| 消息类型       | 消息长度限制                         | 
| :------------- | :----------------------------------- |
| 文本消息       | 3 KB                                 | 
| 图片消息       | 图片不能超过 10 MB，图片消息大小限制为 3 KB。      | 
| 语音消息       | 频文件不能超过 10 MB，音频消息大小限制为 3 KB。    | 
| 视频消息       | 视频文件不能超过 10 MB，视频消息大小限制为 3 KB。      | 
| 文件消息       | 附件大小不能超过 10 MB，文件消息大小限制为 3 KB。          |
| 透传消息       | 3 KB                                 |
| 自定义消息     | 3 KB                                 |

## 用户属性大小限制

默认单一用户的属性总长不得超过 2 KB。默认一个 app 下所有用户的属性总长度不得超过 10 GB。

## 消息撤回

默认撤回时限为 2 分钟，可根据 App Key 在环信即时通讯云管理后台单独设置。
